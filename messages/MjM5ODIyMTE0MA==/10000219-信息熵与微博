<!DOCTYPE html>
<html> 
	<head> 
	<title>信息熵与微博</title>
		<meta http-equiv=Content-Type content="text/html;charset=utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="format-detection" content="telephone=no">
 		<link rel="stylesheet" type="text/css" href="http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/client-page1530cb.css"/>
	<style>
	  #nickname{
		overflow: hidden;
		white-space: nowrap;
		text-overflow: ellipsis;
		max-width: 90%;		
	  }
	  ol,ul{
		list-style-position:inside;
	  }
	</style>
	</head> 
	<body id="activity-detail">
		   	
			<div class="page-bizinfo">
			<div class="header">
			<h1 id="activity-name">信息熵与微博</h1>
			<span id="post-date">2013-03-08</span>
			</div>
		</div>

		<div class="page-content">
						<div class="media" id="media">
			<img src="http://mmsns.qpic.cn/mmsns/ow5rEn8QGlEwrp3CCys7qHLDt8NpG136lICNvND3qd9ia2ax52Cicoxw/0" onerror="this.parentNode.removeChild(this)"	/>
			</div>
						<div class="text"><p>不知道小道消息的订阅者中有多少是女性，节日快乐!</p><p><br  /></p><p>零.</p><p>发现有些人不太放心邀请我试用一些还未正式发布的产品，担心我会乱批评。其实啊，我哪会那么不知深浅，一般邀请我试用的，已经给了我好大面子，产品好用我当然会夸奖，不好用我甚么都不说也就是了。</p><p><br  /></p><p>一.</p><p>不少微信公众帐号被封了，我开始还以为是微信要一刀切，如果真不让写我也就坡下驴把这个小道消息关闭算了，自己也能轻松一点。后来了解到是因为别的原因，既然用了这个平台，当然就要老老实实遵守规则，不做错事应该也不会有什么大问题。</p><p><br  /></p><p>二.</p><p>看到不少朋友给我留言，表达了他们对于广告的看法，绝大多数都是支持的，很感动。不过我还是保持微信的纯粹性，别搞一些乱七八糟的，如果没有了乐趣，其它都没有意义。</p><p><br  /></p><p>三.</p><p>今天写点小科普.</p><p><br  /></p><p>下面这段话是我大约十几天前看到的：</p><p><br  /></p><p>「投资者喜欢将微博与Twitter进行对比，因为两者都存在字数限制，并且都很热门。然而，两者有一个根本不同，即140字中文能够包含比140个英文字符更多的信息。中文文字的信息熵为11.3，而英文字符的信息熵仅为4.7」</p><p><br  /></p><p>关键词是「<span>信息熵</span>」，我相信很多人都看过这篇报道，但估计没有多少人对其中的这几句话怀疑。我怀疑的原因是这个数据有点问题，跟我记忆中有差异。</p><p><br  /></p><p>于是用「<span>信息熵</span> 中文」作为关键词搜索了一下，得到关于信息墒的基本数据是这样的：</p><p><br  /></p><p>英文：4.03 bit</p><p>法文：3.98 bit</p><p>西班牙文：4.01 bit</p><p>俄文：4.35 bit</p><p>中文：9.65 bit</p><p><br  /></p><p>这是联合国通行的几种文字的<span>信息熵</span>数据。这个数据跟新闻中的数据并不一致。</p><p><br  /></p><p>但是新闻中的 4.7 / 11.3是怎么来的? 4.7 是以英文 26 个字母计算，如果每个字母出现次数平均的话，将得到 4.7 的数值；11.3 则是以汉字常用字 2500 个来计算，得到 11.3 的<span>信息熵</span>值，但实际上，英文字母出现的次数并不平均，还有空格的出现也会影响，所以，英文实际上是 4.03 应该靠谱一些。</p><p><br  /></p><p>这个是维基百科中的示例，估计这位记者也看了维基百科，但是没有仔细看这个数值只是为了举例说明而已，记者疏忽，并没有进一步求证学术文献。而 9.65 是当汉字个数达到 12366 的时候得到的计算值。</p><p><br  /></p><p>读到这里，可能有人一头雾水，<span>信息熵</span>是什么东西呢? 「<span>熵</span>」(Entropy)是一个物理学中的概念，初中物理就提到了热力学第二定律。至于「信息墒」这个概念则是 1948年信息论创始人香农提出来的，用来解决信息的量化度量问题。通俗一点说，单个信息是没有多少意义的, 通常要衡量一个符号或者一串符号序列(Message)的平均信息量，这个平均信息量就是信息<span>熵</span>。</p><p><br  /></p><p>汉字的信息<span>熵</span>比较高，带来的结果是，同样数量字符，汉字信息量大，但是通信传输过程中成本高、效率也比较低。</p><p><br  /></p><p>从上面的数据来看，汉字的信息<span>熵</span>总要比英语大，所以，同样 140 字的限制，平均一条微博的信息量要比一条 Tweet 多不少。人们常说「中文博大精深」，还是有一定道理的，倒也不是一句空话。</p><p><br  /></p><p>至于 Twitter 为什么是 140 字符限制，很多人会告诉你是因为手机短信是 140 字限制，其实啊…这样说也不太严谨，手机短信是 160 字符(7 Bit)限制，Twitter 设置为 140 字是为了留出 20 个让人用来写自己的名字。网上已经有过很多介绍我就不赘述了。如果好奇的话，大家可以去搜索一下。</p><p><br  /></p><p>知道信息<span>熵</span>对我们普通人有啥用呢? 这样说吧，如果有出版社找你翻译一本书，你看了一下英文书字数，然后出版社跟你签署合同的时候，实际上是按照中文字数签署的… 然后，你懂了吧? </p><p><br  /></p><p>时间关系，以上或许有写错的地方，欢迎指正。一般我如果留下一点明显的错误，大家的反馈就会非常踊跃。HOhoho</p><p><br  /></p><p>题图：漫画 China Looking Over My Shoulder.</p><p><br  /></p><p>点击{阅读原文}可以下载我们开发的一款面向大众的健康类 App 「家庭用药」，希望这款工具在特定的场景中能帮到你。使用的过程中，如果有问题，请反馈给我即可。</p><p><br  /></p></div>
						<p class="page-url"><a href="javascript:void(0)" onclick="viewSource()" class="page-url-link">阅读原文</a></p>
					</div>
		<script src="http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/jquery-1.8.3.min1530d1.js"></script>
	<script src="http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/wxm-core1530d0.js"></script>
	<script id="txt-desc" type="txt/text">同样 140 字的限制，平均一条微博的信息量要比一条 Tweet 多不少。人们常说「中文博大精深」，还是有一定道理的，倒也不是一句空话。</script>
	<script id="txt-title" type="txt/text">信息熵与微博</script>
	<script id="txt-sourceurl" type="txt/text">http://app.dxy.cn/idrug.htm#wechat_redirect</script>
    <script>
      (function(){
        /**
         * @description get a Max length for text, cut the long words
         * @author zemzheng
         **/
        var 
          _dom   = jQuery('.text'),
          _html0 = _dom.html();
          _em    = jQuery('<p></p>').html('a').css({display:'inline'}),
          _init  = function(){
            _em.appendTo(_dom);
            var 
              _html = _html0,
              _max  = Math.floor( _dom.width() / _em.width() ),
              _reg  = new RegExp('[a-z1-9]{' + _max + ',}', 'ig');
            _em.remove();

            _html = _html.replace(/>[^<]+</g,function(txt){
              return txt.replace(_reg, function(str){
                var _str = str, result = []
                while(_str.length > _max){
                  result.push(
                    _str.substr(0, _max)
                  );
                  _str = _str.substr(_max);
                }
                result.push(_str);
                return result.join('<br/>');
              });
            });

            _dom.html(_html);
            //console.log(_dom.html());
          };
        jQuery(window).on('resize', _init).trigger('resize');
        
      })();

      function getStrFromTxtDom(selector){
        return jQuery('#txt-' + selector)
                  .html()                  
                  .replace(/&lt;/g, '<')
                  .replace(/&gt;/g, '>');
      }
    


		function viewSource(){
				var UA = navigator.userAgent.toLowerCase();
				var isIem = function(){
					if(/IEMobile/i.test(UA)) return true;
					else return false;
				}
				if(isIem()){
					jQuery(".page-url-link:first").attr("href", getStrFromTxtDom('sourceurl') );
					return ;
				}
				jQuery.ajax({
						url: '/mp/appmsg/show-ajax' + location.search, //location.href
          				async:false,
						type:'POST',
						timeout :2000,
						data :{url:getStrFromTxtDom('sourceurl')},
						complete:function(){location.href = getStrFromTxtDom('sourceurl');}
				});	 
				return false;
    };
          function report(link, fakeid, action_type){
            var parse_link = parseUrl(link);
            if(parse_link == null)
            {
              return ;
            }
            var query_obj = parseParams( parse_link['query_str'] );
            query_obj['action_type'] = action_type;
            query_obj['uin'] = fakeid;
            var report_url = '/mp/appmsg/show?' + jQuery.param( query_obj );
            jQuery.ajax({
              url: report_url,
              type: 'POST',
              timeout: 2000
            })
          };

          function share_scene(link, scene_type){
            var parse_link = parseUrl(link);
            if(parse_link == null)
            {
              return link;
            }
            var query_obj = parseParams( parse_link['query_str'] );
            query_obj['scene'] = scene_type;
            var share_url = 'http://' + parse_link['domain'] + parse_link['path'] + '?' + jQuery.param( query_obj ) + (parse_link['sharp'] ? parse_link['sharp'] : '');
            return share_url;
          };
          
      //report("http://mp.weixin.qq.com/mp/appmsg/show?__biz=MjM5ODIyMTE0MA==&appmsgid=10000219&itemidx=1#wechat_redirect",1);
      //console.log('share url %s', share_scene("http://mp.weixin.qq.com/mp/appmsg/show?__biz=MjM5ODIyMTE0MA==&appmsgid=10000219&itemidx=1#wechat_redirect", 1));
			(function(){
        var onBridgeReady =  function () {
          var 
            appId  = '',
			      imgUrl = "http://mmsns.qpic.cn/mmsns/ow5rEn8QGlEwrp3CCys7qHLDt8NpG136lICNvND3qd9ia2ax52Cicoxw/0",
			      link   = "http://mp.weixin.qq.com/mp/appmsg/show?__biz=MjM5ODIyMTE0MA==&appmsgid=10000219&itemidx=1#wechat_redirect",
						title  = htmlDecode("信息熵与微博"),
            desc   = htmlDecode("同样 140 字的限制，平均一条微博的信息量要比一条 Tweet 多不少。人们常说「中文博大精深」，还是有一定道理的，倒也不是一句空话。"),
            fakeid = "",
            desc = desc || link;	



					// 发送给好友; 
          WeixinJSBridge.on('menu:share:appmessage', function(argv){
            
						WeixinJSBridge.invoke('sendAppMessage',{
											  "appid"      : appId,
											  "img_url"    : imgUrl,
											  "img_width"  : "640",
											  "img_height" : "640",
											  "link"       : share_scene(link, 1),
											  "desc"       : desc,
											  "title"      : title
                        }, function(res) {report(link, fakeid, 1);
                        });
					});
					// 分享到朋友圈;
          WeixinJSBridge.on('menu:share:timeline', function(argv){
            report(link, fakeid, 2);
						WeixinJSBridge.invoke('shareTimeline',{
											  "img_url"    : imgUrl,
											  "img_width"  : "640",
											  "img_height" : "640",
											  "link"       : share_scene(link, 2),
											  "desc"       : desc,
											  "title"      : title
											  }, function(res) {
                        });
            
					});

					// 分享到微博;
					var weiboContent = '';
          WeixinJSBridge.on('menu:share:weibo', function(argv){
            
						WeixinJSBridge.invoke('shareWeibo',{
											  "content" : title + share_scene(link, 3),
											  "url"     : share_scene(link, 3) 
											  }, function(res) {report(link, fakeid, 3);
											  });
					});
					// 隐藏右上角的选项菜单入口;
					//WeixinJSBridge.call('hideOptionMenu');
				};
        if(document.addEventListener){
          document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
        } else if(document.attachEvent){
          document.attachEvent('WeixinJSBridgeReady'   , onBridgeReady);
          document.attachEvent('onWeixinJSBridgeReady' , onBridgeReady);
        }
			})();
		</script>
	</body>
</html>
